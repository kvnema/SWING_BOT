nifty50_symbols:
  - ADANIPORTS.NS
  - ADANIENT.NS
  - APOLLOHOSP.NS
  - ASIANPAINT.NS
  - AXISBANK.NS
  - BAJAJ-AUTO.NS
  - BAJFINANCE.NS
  - BAJAJFINSV.NS
  - BPCL.NS
  - BHARTIARTL.NS
  - BRITANNIA.NS
  - CIPLA.NS
  - COALINDIA.NS
  - DIVISLAB.NS
  - DRREDDY.NS
  - EICHERMOT.NS
  - GRASIM.NS
  - HCLTECH.NS
  - HDFCBANK.NS
  - HDFCLIFE.NS
  - HEROMOTOCO.NS
  - HINDALCO.NS
  - HINDUNILVR.NS
  - ICICIBANK.NS
  - INDUSINDBK.NS
  - INFY.NS
  - ITC.NS
  - JSWSTEEL.NS
  - KOTAKBANK.NS
  - LT.NS
  - M&M.NS
  - MARUTI.NS
  - NTPC.NS
  - NESTLEIND.NS
  - ONGC.NS
  - POWERGRID.NS
  - RELIANCE.NS
  - SBILIFE.NS
  - SHREECEM.NS
  - SBIN.NS
  - SUNPHARMA.NS
  - TCS.NS
  - TATACONSUM.NS
  - TATAMOTORS.NS
  - TATASTEEL.NS
  - TECHM.NS
  - TITAN.NS
  - ULTRACEMCO.NS
  - UPL.NS
  - WIPRO.NS

timeframes:
  - 1m
  - 15m
  - 1h
  - 4h
  - 1d
  - 1w
  - 1mo

strategies:
  - TrendContinuation
  - Breakout
  - VCP
  - SEPA
  - MeanReversion
  - EnhancedMomentum
  - DynamicBreakout
  - SectorMomentum

scoring:
  composite_score_weights:
    trend_strength: 0.25
    momentum: 0.20
    volatility: 0.15
    volume: 0.15
    regime_filter: 0.25

backtesting:
  initial_capital: 100000
  risk_per_trade: 0.02
  commission: 0.0005
  slippage: 0.001

gtt:
  max_positions: 10
  min_confidence: 3.0
  risk_multiplier: 1.5

confidence:
  empirical_bayes_alpha: 2.0
  empirical_bayes_beta: 2.0
  technical_weight: 0.6
  historical_weight: 0.4

# Optimized Trading Parameters (Self-Optimization Cycle #2 - January 20, 2026)
trading_parameters:
  confidence_threshold: 0.42  # Increased from 0.35 (+0.07)
  rsi_minimum: 58            # Increased from 55 (+3)
  macd_confirmation_required: true  # No change
  rvol_threshold: 1.4         # Increased from 1.2 (+0.2)
  ensemble_agreements_needed: 3  # No change
  atr_multiplier_stop: 3.1       # Increased from 2.8 (+0.3)
  # Advanced features (Cycle 2)
  volatility_filter_enabled: true
  market_regime_filter: adaptive
  # Performance targets for future optimization
  target_sharpe_ratio: 1.68
  target_expectancy: 0.74
  max_drawdown_limit: 0.118
  # Optimization metadata
  last_optimization_cycle: 2
  optimization_timestamp: "2026-01-20T16:20:00Z"
  baseline_expectancy: 0.61
  optimized_expectancy: 0.74
  improvement_percentage: 21.3

final_excel:
  output_dir: outputs
  template_path: null

audit:
  tick: 0.05
  max_age_days: 1
  strict_mode: false
  max_entry_pct_diff: 0.02
  risk_multiplier: 1.5
  reward_multiplier: 2.0

notifications:
  teams_enabled: true
  email_enabled: true
  fallback_enabled: true
  email_provider: smtp

metrics:
  exporter: prometheus
  port: 9108
  enabled: true

dashboard:
  enabled: true
  out_html: outputs/dashboard/index.html

broker:
  default: upstox  # Can be 'upstox' or 'icici'
  upstox:
    enabled: true
    api_key: ${UPSTOX_API_KEY}
    api_secret: ${UPSTOX_API_SECRET}
    access_token: ${UPSTOX_ACCESS_TOKEN}
    gtt:
      allow_sell_without_edis: false
  icici:
    enabled: true
    api_key: ${ICICI_API_KEY}
    api_secret: ${ICICI_API_SECRET}
    session_token: ${ICICI_SESSION_TOKEN}
    gtt:
      default_product: options
      default_exchange: NFO

# Enhanced trading capabilities for improved accuracy, safety, and profitability
enhancements:
  ml_filtering:
    enabled: true
    min_confidence: 0.30
    model_type: 'rf'  # 'rf' for Random Forest, 'gb' for Gradient Boosting
    model_path: 'outputs/models/ml_filter.pkl'
    retrain_days: 30

  sentiment_filtering:
    enabled: true
    min_sentiment_score: 0.10
    news_sources: ['economic_times', 'moneycontrol']
    api_key: ${NEWS_API_KEY}

  risk_management:
    enabled: true
    base_risk_pct: 1.0
    vol_lookback: 20
    vol_target: 0.25
    max_sector_weight: 0.20
    max_correlation: 0.70
    daily_dd_threshold: 0.05
    monthly_dd_threshold: 0.15
    pause_days: 3
    volatility_threshold: 0.35

  exit_strategies:
    enabled: true
    tiered_exits: true
    regime_exits: true
    parabolic_sar: true
    compounding: true
    profit_tiers: [[0.5, 0.8], [1.0, 0.6], [2.0, 0.4], [3.0, 0.2]]  # [profit_multiplier, exit_percentage]
    trailing_stop_pct: 0.10

  parameter_optimization:
    enabled: true
    target: 'sharpe_ratio'  # 'sharpe_ratio', 'max_drawdown', 'profit_factor'
    max_trials: 50
    cv_folds: 5
    optimization_window: 252  # Trading days
    rebalance_days: 30

  diversification:
    enabled: true
    max_sector_weight: 0.20
    max_correlation: 0.70
    min_positions: 3
    max_positions: 10

  # Autonomous self-enhancement system
  self_enhancement:
    enabled: true
    parameter_optimization:
      max_trials: 50
    ml_filtering:
      min_confidence: 0.30
    sentiment_filtering:
      api_key: ${NEWS_API_KEY}
    daily_self_test: true
    auto_reversion: true
    performance_threshold: 0.10  # 10% improvement required

  # Ultimate autonomous self-enhancement system with multi-agent RL and LLM
  ultimate_self_enhancement:
    enabled: true
    multi_agent_rl:
      enabled: true
      algorithm: 'ppo'  # 'ppo' or 'dqn'
      training_steps: 5000
      update_frequency: 1  # daily
      confidence_threshold: 0.7
      max_positions_per_sector: 2
      risk_limits:
        max_sector_exposure: 0.25
        max_correlation: 0.75
      model_path: 'outputs/models/multi_agent_rl'
    llm_news_summarization:
      enabled: true
      api_key: ${NEWS_API_KEY}
      model: 't5-small'  # 't5-small', 't5-base', or 'bart'
      sentiment_model: 'bert-base-uncased'  # 'bert-base-uncased' or 'roberta-base'
      cache_dir: 'outputs/news_cache'
      update_frequency: 4  # hours
      sentiment_threshold: 0.1
      max_articles_per_symbol: 10
      fallback_to_vader: true
    parameter_optimization:
      enabled: true
      max_trials: 100
      optimization_targets: ['sharpe_ratio', 'profit_factor', 'max_drawdown']
      cv_folds: 3
      rebalance_days: 7
      multi_objective: true
    self_improvement:
      enabled: true
      performance_tracking: true
      auto_reversion: true
      improvement_threshold: 0.05  # 5% improvement required
      max_consecutive_failures: 3
    autonomous_operation:
      enabled: true
      daily_cycle: true
      error_recovery: true
      api_fallbacks: true
      zero_human_intervention: true

  # Reinforcement Learning agent for autonomous trading decisions
  rl_agent:
    enabled: true
    algorithm: 'ppo'  # 'ppo' or 'dqn'
    model_path: 'outputs/models/rl_agent'
    training_steps: 10000
    confidence_threshold: 0.6
    update_frequency: 7  # days

  # Advanced news sentiment analysis
  news_sentiment:
    enabled: true
    api_key: ${NEWS_API_KEY}
    model: 'vader'  # 'vader', 'transformers', or 'both'
    cache_dir: 'outputs/news_cache'
    sentiment_threshold: 0.1
    max_symbols: 50
    days_back: 7
    update_frequency: 4  # hours